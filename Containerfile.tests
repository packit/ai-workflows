FROM fedora:42

# Install system dependencies
RUN dnf -y install \
      gcc \
      gcc-c++ \
      make \
      krb5-devel \
      python3 \
      python3-devel \
      python3-copr \
      python3-flexmock \
      python3-koji \
      python3-ogr \
      python3-pip \
      python3-pytest \
      python3-pytest-asyncio \
      python3-specfile \
      python3-redis \
      python3-requests \
      python3-backoff \
      python3-GitPython \
    && dnf clean all

RUN git config --global user.email "jotnar-tests@example.com" \
      && git config --global user.name "Jotnar Tests"

# Set PYTHONPATH so agents module can be imported
ENV PYTHONPATH=/src:$PYTHONPATH

# Install BeeAI Framework and FastMCP
RUN pip3 install --no-cache-dir \
      beeai-framework[vertexai,mcp,duckduckgo]==0.1.55 \
      fastmcp redis backoff

WORKDIR /src
